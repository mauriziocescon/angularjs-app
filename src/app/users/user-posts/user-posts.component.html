<div class="container-fluid posts">

  <div class="row">
    <div class="col-xs-12">
      <div class="input-group">
        <input type="search" class="form-control" ng-change="$ctrl.textFilterDidChange()" ng-model="$ctrl.textFilter"
               placeholder="{{ 'USER_POSTS.INPUT_TEXT_PLACEHOLDER' | translate }}">
        <span class="input-group-addon addon" ng-click="$ctrl.resetTextFilter()">
          <span class="fas fa-search" ng-show="!$ctrl.textFilter"></span>
          <span class="fas fa-times" ng-show="$ctrl.textFilter"></span>
        </span>
      </div>
    </div>
  </div>

  <div class="row" ng-show="$ctrl.showData">
    <div class="col-xs-12 post" ng-repeat="post in $ctrl.dataSource track by post.id">
      <div class="row" mc-toggle="$ctrl.isOpen(post)" on="$ctrl.open(post)" off="$ctrl.close(post)" toggle-on-selector=".arrow">
        <div class="col-xs-11">
          <div class="row">
            <div class="col-xs-12">
              <span class="post-title">{{ ::$ctrl.getPostTitle(post) }}</span>
            </div>
            <div class="col-xs-12">
              <span class="post-body">{{ ::post.body }}</span>
            </div>
          </div>
        </div>
        <div class="col-xs-1">
          <span class="fas fa-3x arrow"></span>
        </div>
      </div>
      <post-comments class="row" ng-if="$ctrl.isOpen(post)" post-id="post.id"></post-comments>
    </div>
    <div class="col-xs-12">
      <div class="full-width-message">{{ "USER_POSTS.LOAD_COMPLETED" | translate }}</div>
    </div>
  </div>

  <div class="full-width-message" ng-show="$ctrl.isLoadingData">{{ "USER_POSTS.LOADING" | translate }}</div>
  <div class="full-width-message" ng-show="$ctrl.hasNoData">{{ "USER_POSTS.NO_RESULT" | translate }}</div>
  <div class="full-width-message" ng-show="$ctrl.shouldRetry" ng-click="$ctrl.loadDataSource()">{{ "USER_POSTS.RETRY" | translate }}</div>
  <div class="go-up" mc-scroll-to-top></div>
</div>
